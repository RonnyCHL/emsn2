# MQTT Bridge to Zolder (main broker)
# Berging -> Zolder bridge for bird detections
# Deploy to: /etc/mosquitto/conf.d/bridge-zolder.conf on Berging (192.168.1.87)

connection bridge-to-zolder
address 192.168.1.178:1883

# Authentication
remote_username ecomonitor
remote_password REDACTED_DB_PASS

# Topics to bridge (Berging -> Zolder)
# Format: topic pattern direction QoS local_prefix remote_prefix
topic emsn2/berging/# out 1
topic birdnet/berging/# out 1

# Topics to receive from Zolder (Zolder -> Berging)
topic emsn2/zolder/# in 1
topic birdnet/zolder/# in 1

# Bridge settings
cleansession false
notifications true
notification_topic emsn2/bridge/status
try_private true
start_type automatic
restart_timeout 30

# Keep connection alive
keepalive_interval 60
